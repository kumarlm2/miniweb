<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{  classname }}</title>
   <body >
  <script>let prev = null</script>
   <style>
   #classes {
       margin-left:100px;
       
       
        background-color: red;

   }
   #students {
       float:right;
     
       
       background-color: blue;

   }
   #container {
   
       background-color: red;
   }
   * {
  box-sizing: border-box;
}

.box {
  float: left;
  width: 33.33%;
  padding: 50px;
}

.clearfix::after {
  content: "";
  clear: both;
  display: table;
}

.card {
  box-shadow: 0 4px 8px 0 rgba(0,0.8,0,0.2);
  transition: 0.5s;
  width: 90%;
 margin-bottom : 30px ;
 background-color : white;
}

.card:hover {
  box-shadow: 0 40px 80px 0 rgba(0,0,0,0.2);
}

.container {
  padding: 2px 16px;
}


   </style>

    {% if user.is_staff %}
    <center><h1>   CLASS DETAILS      </h1> 
    <a href="{% url 'account_logout' %}" > logout </a>
    </center> 
    {% endif %}

    <div id="details" style="margin:120px">

    UserName : {{ user.username }}
    <br>
    Email : {{ user.email }}
    <br>
   First Name : {{ user.first_name }}
    <br>
    Last Name : {{ user.last_name }}
    </div>


    <div id="container"> 
        <div class="box" id="students" >
            {% for class in classes.all %}
            <div  id="{{ class.pk }}" style="display:none" >
            {% for students in class.user.all %}

              
            <div class="card"  > 
             <div class="container">
                <h4><b>{{ students }}</b></h4> 
                
                </div>
             </div>
            {% endfor %}
            </div>
            {% endfor %}
                
           

    
        </div>
        <script>
        
        function showstudents(pk){
         
          if(prev !== null){
            document.getElementById(prev).style.display = 'none'
            document.getElementById(pk).style.display = 'block'

          }
          else{
            
            document.getElementById(pk).style.display = 'block'
          }
          prev  = pk
          

        }
        </script>
        <div class="box" id="classes" >
            {% if data.count > 0 %}
             
            {% for classs in data %}
           
           <a href=" {% url 'details' classs.pk  %} " target="_blank"> <div class="card" onclick=" showstudents('{{ classs.pk }}')  " > 
             <div class="container">
                <h4><b>{{ classs.classname }}</b></h4>
                created :<p>{{ classs.created  }}</p>
                start time :<p><b>{{ classs.starttime }}</b></p>
                {% if not classs.endtime  == None %}
                end time: <p><b>{{ classs.endtime }}</b></p>  
                {% else %}
                end time : <p><b>Ongoing...</b></p>
                 {% endif %}
             
                </div>
             </div>

                

            {% endfor %}
                
            {% else %}
            No classes yet started

            {% endif %}



               
        </div>
        </a>
        
    </div>


</body>

</html>


